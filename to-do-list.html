<!DOCTYPE html>
<html>
<head>
<title>To-Do List</title>
<style>
table, th, td {
  border: 0px solid green;
  border-collapse: collapse;
  padding: 6px;
}
</style>
</head>
<body>

<table>
  <tr>
    <td><label>Date:</label></td>
    <td><input type="date" id="date" ></td>
  </tr>
  <tr>
    <td><label>ToDo: </label></td>
    <td><input type="text" id="todo"></td>
  </tr>
  <tr>
    <td><label>Target Date & Time:</label></td>
    <td><input type="datetime-local" id="target"></td>
  </tr>
  <tr>
    <td><label>Status: </label></td>
    <td><input type="text" id="status"></td>
  </tr>
  <tr>
    <td></td>
    <td><button onclick="addNewTodo()">SUBMIT</button></td>
  </tr>
</table>


<table id="todoTable">
  <tr>
    <th>ID</th>
    <th>Current Date</th>
    <th>ToDo Desc</th>
    <th>Target Date</th>
    <th>Status</th>
    <th>Edit</th>
  </tr>
  <tbody>
  </tbody>
</table>

<script>
  var todoList=[{
                    todoId:101,
                    currentDate : "2025-07-29 ",
                    todoDesc : "Read Page 6",
                    targetDate : "2025-07-30 11:35",
                    todoStatus : "PENDING"
                },
                {
                    todoId:102,
                    currentDate : "2025-07-29 ",
                    todoDesc : "Write a document",
                    targetDate : "2025-07-30 12:40",
                    todoStatus : "COMPLETE",
                },
                {
                    todoId:103,
                    currentDate : "2025-07-29",
                    todoDesc : "Prepare a Presentation",
                    targetDate : "2025-07-30 1:40",
                    todoStatus : "IN-PROGRESS",
                }];

  function getMaxTodoId(max, value, index, array) {
    return max.todoId > value.todoId ? max : value;
  }

  console.log("max Obj :"+todoList.reduce(getMaxTodoId));
  var maxObj =todoList.reduce(getMaxTodoId);
  console.log("max Id :"+maxObj.todoId);
  var todoId = maxObj.todoId;

  function renderListTable(value, index, array){
    console.log(value.todoId+"\n"+value.currentDate+"\n"+value.todoDesc + "\n"+value.targetDate+"\n"+value.todoStatus);
    var newTodoTr = document.createElement("tr");
    var newTodoIdTd = document.createElement("td");
    newTodoIdTd.innerText = value.todoId;
    var newTodoCurrentDateTd = document.createElement("td");
    newTodoCurrentDateTd.innerText = value.currentDate;
    var newTodoDescTd = document.createElement("td");
    newTodoDescTd.innerText = value.todoDesc;
    var newTodoTargetDateTd = document.createElement("td");
    newTodoTargetDateTd.innerText = value.targetDate;
    var newTodoStatusTd = document.createElement("td");
    newTodoStatusTd.innerText = value.todoStatus;
    var newTodoEditTd=document.createElement("td");
    var newEditButtonTd = document.createElement("button");
    newEditButtonTd.innerText = "Edit";

    newTodoTr.appendChild(newTodoIdTd);
    newTodoTr.appendChild(newTodoCurrentDateTd);
    newTodoTr.appendChild(newTodoDescTd);
    newTodoTr.appendChild(newTodoTargetDateTd);
    newTodoTr.appendChild(newTodoStatusTd);
    newTodoTr.appendChild(newTodoEditTd);
    newTodoEditTd.appendChild(newEditButtonTd);
2
    newEditButtonTd.onclick=function(){
        console.log("Edit button clicked");
    }

    var todoTable = document.getElementById("todoTable");
        todoTable.appendChild(newTodoTr);
    }

    function renderTodoItems(todoList){
        todoList.map(renderListTable);
    }
    renderTodoItems(todoList);

  function addNewTodo(todoDesc,currentDate,targetDate,todoStatus) {
        currentDate = document.getElementById("date").value;
        todoDesc = document.getElementById("todo").value;
        targetDate = document.getElementById("target").value;
        todoStatus = document.getElementById("status").value;
        todoId++;
        console.log(todoId+"\n"+currentDate + "\n"+targetDate+"\n"+todoStatus);

    var todo={};
    todo.todoId =todoId;
    todo.currentDate =currentDate;
    todo.todoDesc =todoDesc;
    todo.targetDate = targetDate.replace('T', ' ');
    todo.todoStatus = todoStatus;
    todoList.push(todo);
    
    renderListTable(todo); 
    console.log(todoList);
  }
</script>

</body>
</html>
